<!--#include("header.html")-->


 <script type="text/javascript">
     function showdiv(id){


       div = document.getElementById(id);
       div.style.visibility="visible";
       div.style.display="block";
       var id = div.id
 
;
       div = document.getElementById('e'+id);

       div.innerHTML = div.innerHTML.replace('+', '-');

       div.onclick= function() { eval("hidediv('"+ id+ "');"); };

     }


     function hidediv(id){

       div = document.getElementById(id);
       div.style.visibility="hidden";
       div.style.display="none";
       var id = div.id;

       div = document.getElementById('e'+id);

       div.innerHTML = div.innerHTML.replace('-', '+');
       div.onclick=function() { eval("showdiv('"+ id+ "');"); };

     }

     function show_content(which)
     {
          document.getElementById('rightcontent').innerHTML = '<'+'object id="foo" name="foo" type="text/html" data="'+which.href+'"><\/object>';
     }
   </script>

<style type="text/css">
.leftcontent {
  float:left;
  width:100%;
  background:#fff;
  border-right:2px solid silver;
  border-bottom:2px solid gray;
  margin-right:2px;
  padding-bottom:20px;
  }
#foo{
  width:68%;
  height:800px;
  margin-left:2px;
  float:right;
}

.scroll-pane{
  width:30%;
  height:800px;
  float:left;
  overflow:auto;
}

</style>

<div id="selection-scroll" class="scroll-pane" >

	<div id="treeList" class="leftcontent" >
	{@ $_pDepth = 0;}
	{@ $divid=0; }
	{@ $n=0; }
			<ul>
	<!--@foreach($list as $key => $val)-->
		{@ $n++; }
		<!--@if($_pDepth > $val->depth)-->
			<!--@for($i=$val->depth; $i<$_pDepth; $i++)-->
				
				</ul>
				</li>
				
			<!--@end-->
		
			{@ $_pDepth = $val->depth}
		<!--@end-->
		<li>
		<!--@if(!$val->childs)-->
                 <a href="{getSiteUrl($site_module_info->domain, '','mid',$mid,'document_srl',$val->document_srl)}&act=dispXedocsContent" onclick="show_content(this); return false;" >{$val->title} </a>
                 {@ $_pDepth = $val->depth}
		<!--@end-->
		<!--   $_pDepth={$_pDepth}  $val->depth={$val->depth} -->
			
			<!--@if($val->childs)-->
				<!--@if($n==1)-->
					<div id="e{$divid}" onclick="hidediv('{$divid}');" style='display:inline; margin:0.5px; width:10px;  '>-
	                </div>
					<a href="{getSiteUrl($site_module_info->domain, '','mid',$mid,'document_srl',$val->document_srl)}&act=dispXedocsContent" onclick="show_content(this); return false;" >{$val->title}</a>
					
	                <div id="{$divid}"  >
              
              		 <!--@else-->
	                <div id="e{$divid}" onclick="showdiv('{$divid}');" style='display:inline; margin:0.5px; width:10px;  '>+
		                </div>					
						
	                <a href="{getSiteUrl($site_module_info->domain, '','mid',$mid,'document_srl',$val->document_srl)}&act=dispXedocsContent" onclick="show_content(this); return false;" >{$val->title}</a>
					
	                <div id="{$divid}" style="visibility:hidden; display:none;" >
               <!--@end-->
			
				{@$_pDepth++; $divid++;}
				<ul>
			<!--@else-->
			</li>
			<!--@end-->
		<!--@end-->
		<!--@for($i=0;$i<$_pDepth;$i++)-->
				</ul>
         	  </div>
          	  
	    <!--@end-->
				
	</li>
	</ul>	
		

    <!--@if($grant->write_document)-->
    <div class="treeUI">
        <a href="{getUrl('act','dispXedocsModifyTree')}" class="button"><span>{$lang->cmd_modify}</span></a>
	<!--
	        <a href="#" class="button" onclick="doRecompileTree(); return false;"><span>{$lang->cmd_remake_cache}</span></a>
	-->
    </div>
    <!--@end-->






</div>

<div id="rightcontent" style='margin:2px; color:red;' >
Click on node in content tree to see contents.
</div>

<!--#include("footer.html")-->
