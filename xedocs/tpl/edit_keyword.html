<!--%import("filter/edit_keyword.xml")-->
<!--%import("js/manual_admin.js")-->

<script type="text/javascript">
    function insertSelectedManualPage(id, document_srl, mid, browser_title) {
        var obj= xGetElementById(id);
        obj.value = document_srl;
        var sObj = xGetElementById('link_'+id);

        href_value = '/?document_srl='+document_srl;
        sObj.href = href_value;
        sObj.innerText = browser_title;
    }

    function searchThroughPages(href){
        var keyword = document.getElementById('title').value;
        href = href + '&search_keyword=' + keyword + '#content';
        popopen(href, 'Select Manual Page');
    }
    var xe_root = "{_XE_PATH_}";
</script>

<h3 class="xeAdmin">{$lang->xedocs} <span class="gray">{$lang->cmd_management}</span></h3>
<div class="infoText">{nl2br($lang->about_xedocs)}</div>

<div class="header4">
    <h4 class="xeAdmin">
        <!--@if(isset($keyword))-->
            {$lang->edit_keyword}
        <!--@else-->
            {$lang->add_keyword}
        <!--@end-->
    </h4>
    Use keywords in order to automatically link documents between each other. For instance, if your keyword is CSQL and you chose to open the documentation page about it, XE Docs will replace every occurence of "CSQL" in all pages of the manual with a link to the page you chose.
</div>

<form action="./" method="get" onsubmit="return procFilter(this, edit_keyword)" >
	<input type="hidden" name="page" value="{$page}" />
	<input type="hidden" name="module_srl" value="{$module_info->module_srl}" />
	<input type="hidden" name="orig_title" value="{$keyword}" />

    <table cellspacing="0" class="rowTable">
	    <tr>
	        <th scope="row"><div>{$lang->keyword}</div></th>
	        <td class="wide"><input class="inputTypeText w200" id='title' name='title' type="text" value='{$keyword}'></input> </td>
                <td>Pick a keyword!</td>
	    </tr>
	    <tr>
           	<th scope="row">
                    <p><div>Target Manual Page</div></p>
                </th>
	        <td>
                    <p>
                        <input type="hidden", value='{$target_document_srl}' name="target_document_srl" id='target_document_srl' />
                        <a id='link_target_document_srl' href="{getUrl( 'mid', $mid,  'module_srl',$module_srl,'document_srl', $target_document_srl, 'act', 'dispXedocsIndex')}" onclick="window.open(this.href); return false;" title="Open document in new window">{$target_title}</a>
                        <a class ="button blue" href="{getUrl('mid', $mid, 'module_srl',$module_srl,'document_srl', $target_document_srl, 'act', 'dispXedocsAdminManualPageSelect', 'id', 'target_document_srl')}"
                                        onclick="searchThroughPages(this.href);return false;"
                                        style='text-align: center; vertical-align: middle;margin:2px 10px;'><span>Select manual page</span></a>
                    </p>
	        </td>
                <td>Pick what page should open when the keyword link is clicked.</td>
	    </tr>
            <tr>
                <th colspan="3">
                    <span class="button black strong"><input type="submit" value="{$lang->cmd_update_keyword}" /></span>
                    <a href="{getUrl('act','dispXedocsAdminKeywordList')}" class="button"><span>{$lang->cmd_back}</span></a>
                </th>
            </tr>
	</table>
</form>